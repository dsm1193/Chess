!piece.valid_moves.include?(end_pos)
piece.color != turn_color
!piece.moves.include?(end_pos)
n
